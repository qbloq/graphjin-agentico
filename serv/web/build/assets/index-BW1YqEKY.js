const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./swagger-BzKg9Sg6.js","./graphiql-D42nEO8-.js"])))=>i.map(i=>d[i]);
var es=Object.defineProperty;var xt=t=>{throw TypeError(t)};var ts=(t,e,a)=>e in t?es(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var yt=(t,e,a)=>ts(t,typeof e!="symbol"?e+"":e,a),Ze=(t,e,a)=>e.has(t)||xt("Cannot "+a);var i=(t,e,a)=>(Ze(t,e,"read from private field"),a?a.call(t):e.get(t)),u=(t,e,a)=>e.has(t)?xt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a),h=(t,e,a,r)=>(Ze(t,e,"write to private field"),r?r.call(t,a):e.set(t,a),a),b=(t,e,a)=>(Ze(t,e,"access private method"),a);var Ve=(t,e,a,r)=>({set _(n){h(t,e,n,a)},get _(){return i(t,e,r)}});import{h as ss,b as E,j as s,R as $t,i as as,k as rs,G as is,l as ns}from"./graphiql-D42nEO8-.js";import{N as ls,B as cs,R as os,a as Se}from"./react-vendor-ZV9jEUfz.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var ze={},vt;function hs(){if(vt)return ze;vt=1;var t=ss();return ze.createRoot=t.createRoot,ze.hydrateRoot=t.hydrateRoot,ze}var ds=hs(),Ge=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},us={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},se,ft,Mt,fs=(Mt=class{constructor(){u(this,se,us);u(this,ft,!1)}setTimeoutProvider(t){h(this,se,t)}setTimeout(t,e){return i(this,se).setTimeout(t,e)}clearTimeout(t){i(this,se).clearTimeout(t)}setInterval(t,e){return i(this,se).setInterval(t,e)}clearInterval(t){i(this,se).clearInterval(t)}},se=new WeakMap,ft=new WeakMap,Mt),de=new fs;function ms(t){setTimeout(t,0)}var we=typeof window>"u"||"Deno"in globalThis;function U(){}function gs(t,e){return typeof t=="function"?t(e):t}function Xe(t){return typeof t=="number"&&t>=0&&t!==1/0}function Kt(t,e){return Math.max(t+(e||0)-Date.now(),0)}function he(t,e){return typeof t=="function"?t(e):t}function $(t,e){return typeof t=="function"?t(e):t}function bt(t,e){const{type:a="all",exact:r,fetchStatus:n,predicate:l,queryKey:o,stale:c}=t;if(o){if(r){if(e.queryHash!==mt(o,e.options))return!1}else if(!Ue(e.queryKey,o))return!1}if(a!=="all"){const m=e.isActive();if(a==="active"&&!m||a==="inactive"&&m)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||n&&n!==e.state.fetchStatus||l&&!l(e))}function Nt(t,e){const{exact:a,status:r,predicate:n,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(a){if(Le(e.options.mutationKey)!==Le(l))return!1}else if(!Ue(e.options.mutationKey,l))return!1}return!(r&&e.state.status!==r||n&&!n(e))}function mt(t,e){return((e==null?void 0:e.queryKeyHashFn)||Le)(t)}function Le(t){return JSON.stringify(t,(e,a)=>tt(a)?Object.keys(a).sort().reduce((r,n)=>(r[n]=a[n],r),{}):a)}function Ue(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(a=>Ue(t[a],e[a])):!1}var ps=Object.prototype.hasOwnProperty;function Bt(t,e){if(t===e)return t;const a=wt(t)&&wt(e);if(!a&&!(tt(t)&&tt(e)))return e;const n=(a?t:Object.keys(t)).length,l=a?e:Object.keys(e),o=l.length,c=a?new Array(o):{};let m=0;for(let g=0;g<o;g++){const w=a?g:l[g],p=t[w],C=e[w];if(p===C){c[w]=p,(a?g<n:ps.call(t,w))&&m++;continue}if(p===null||C===null||typeof p!="object"||typeof C!="object"){c[w]=C;continue}const x=Bt(p,C);c[w]=x,x===p&&m++}return n===o&&m===n?t:c}function et(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const a in t)if(t[a]!==e[a])return!1;return!0}function wt(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tt(t){if(!Ct(t))return!1;const e=t.constructor;if(e===void 0)return!0;const a=e.prototype;return!(!Ct(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ct(t){return Object.prototype.toString.call(t)==="[object Object]"}function js(t){return new Promise(e=>{de.setTimeout(e,t)})}function st(t,e,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,e):a.structuralSharing!==!1?Bt(t,e):e}function xs(t,e,a=0){const r=[...t,e];return a&&r.length>a?r.slice(1):r}function ys(t,e,a=0){const r=[e,...t];return a&&r.length>a?r.slice(0,-1):r}var gt=Symbol();function Ht(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===gt?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Gt(t,e){return typeof t=="function"?t(...e):!!t}function vs(t,e,a){let r=!1,n;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(n??(n=e()),r||(r=!0,n.aborted?a():n.addEventListener("abort",a,{once:!0})),n)}),t}var ue,ae,Re,Dt,bs=(Dt=class extends Ge{constructor(){super();u(this,ue);u(this,ae);u(this,Re);h(this,Re,e=>{if(!we&&window.addEventListener){const a=()=>e();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){i(this,ae)||this.setEventListener(i(this,Re))}onUnsubscribe(){var e;this.hasListeners()||((e=i(this,ae))==null||e.call(this),h(this,ae,void 0))}setEventListener(e){var a;h(this,Re,e),(a=i(this,ae))==null||a.call(this),h(this,ae,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){i(this,ue)!==e&&(h(this,ue,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(a=>{a(e)})}isFocused(){var e;return typeof i(this,ue)=="boolean"?i(this,ue):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ue=new WeakMap,ae=new WeakMap,Re=new WeakMap,Dt),pt=new bs;function at(){let t,e;const a=new Promise((n,l)=>{t=n,e=l});a.status="pending",a.catch(()=>{});function r(n){Object.assign(a,n),delete a.resolve,delete a.reject}return a.resolve=n=>{r({status:"fulfilled",value:n}),t(n)},a.reject=n=>{r({status:"rejected",reason:n}),e(n)},a}var Ns=ms;function ws(){let t=[],e=0,a=c=>{c()},r=c=>{c()},n=Ns;const l=c=>{e?t.push(c):n(()=>{a(c)})},o=()=>{const c=t;t=[],c.length&&n(()=>{r(()=>{c.forEach(m=>{a(m)})})})};return{batch:c=>{let m;e++;try{m=c()}finally{e--,e||o()}return m},batchCalls:c=>(...m)=>{l(()=>{c(...m)})},schedule:l,setNotifyFunction:c=>{a=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{n=c}}}var T=ws(),Pe,re,Oe,Tt,Cs=(Tt=class extends Ge{constructor(){super();u(this,Pe,!0);u(this,re);u(this,Oe);h(this,Oe,e=>{if(!we&&window.addEventListener){const a=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}})}onSubscribe(){i(this,re)||this.setEventListener(i(this,Oe))}onUnsubscribe(){var e;this.hasListeners()||((e=i(this,re))==null||e.call(this),h(this,re,void 0))}setEventListener(e){var a;h(this,Oe,e),(a=i(this,re))==null||a.call(this),h(this,re,e(this.setOnline.bind(this)))}setOnline(e){i(this,Pe)!==e&&(h(this,Pe,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return i(this,Pe)}},Pe=new WeakMap,re=new WeakMap,Oe=new WeakMap,Tt),Ye=new Cs;function Ss(t){return Math.min(1e3*2**t,3e4)}function Wt(t){return(t??"online")==="online"?Ye.isOnline():!0}var rt=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Vt(t){let e=!1,a=0,r;const n=at(),l=()=>n.status!=="pending",o=y=>{var v;if(!l()){const d=new rt(y);C(d),(v=t.onCancel)==null||v.call(t,d)}},c=()=>{e=!0},m=()=>{e=!1},g=()=>pt.isFocused()&&(t.networkMode==="always"||Ye.isOnline())&&t.canRun(),w=()=>Wt(t.networkMode)&&t.canRun(),p=y=>{l()||(r==null||r(),n.resolve(y))},C=y=>{l()||(r==null||r(),n.reject(y))},x=()=>new Promise(y=>{var v;r=d=>{(l()||g())&&y(d)},(v=t.onPause)==null||v.call(t)}).then(()=>{var y;r=void 0,l()||(y=t.onContinue)==null||y.call(t)}),j=()=>{if(l())return;let y;const v=a===0?t.initialPromise:void 0;try{y=v??t.fn()}catch(d){y=Promise.reject(d)}Promise.resolve(y).then(p).catch(d=>{var A;if(l())return;const Q=t.retry??(we?0:3),P=t.retryDelay??Ss,f=typeof P=="function"?P(a,d):P,M=Q===!0||typeof Q=="number"&&a<Q||typeof Q=="function"&&Q(a,d);if(e||!M){C(d);return}a++,(A=t.onFail)==null||A.call(t,a,d),js(f).then(()=>g()?void 0:x()).then(()=>{e?C(d):j()})})};return{promise:n,status:()=>n.status,cancel:o,continue:()=>(r==null||r(),n),cancelRetry:c,continueRetry:m,canStart:w,start:()=>(w()?j():x().then(j),n)}}var fe,It,zt=(It=class{constructor(){u(this,fe)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xe(this.gcTime)&&h(this,fe,de.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(we?1/0:300*1e3))}clearGcTimeout(){i(this,fe)&&(de.clearTimeout(i(this,fe)),h(this,fe,void 0))}},fe=new WeakMap,It),me,Ee,_,ge,D,_e,pe,K,V,qt,Rs=(qt=class extends zt{constructor(e){super();u(this,K);u(this,me);u(this,Ee);u(this,_);u(this,ge);u(this,D);u(this,_e);u(this,pe);h(this,pe,!1),h(this,_e,e.defaultOptions),this.setOptions(e.options),this.observers=[],h(this,ge,e.client),h(this,_,i(this,ge).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,h(this,me,Rt(this.options)),this.state=e.state??i(this,me),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=i(this,D))==null?void 0:e.promise}setOptions(e){if(this.options={...i(this,_e),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Rt(this.options);a.data!==void 0&&(this.setState(St(a.data,a.dataUpdatedAt)),h(this,me,a))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&i(this,_).remove(this)}setData(e,a){const r=st(this.state.data,e,this.options);return b(this,K,V).call(this,{data:r,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),r}setState(e,a){b(this,K,V).call(this,{type:"setState",state:e,setStateOptions:a})}cancel(e){var r,n;const a=(r=i(this,D))==null?void 0:r.promise;return(n=i(this,D))==null||n.cancel(e),a?a.then(U).catch(U):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(i(this,me))}isActive(){return this.observers.some(e=>$(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>he(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Kt(this.state.dataUpdatedAt,e)}onFocus(){var a;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(a=i(this,D))==null||a.continue()}onOnline(){var a;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(a=i(this,D))==null||a.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),i(this,_).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(a=>a!==e),this.observers.length||(i(this,D)&&(i(this,pe)?i(this,D).cancel({revert:!0}):i(this,D).cancelRetry()),this.scheduleGc()),i(this,_).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||b(this,K,V).call(this,{type:"invalidate"})}async fetch(e,a){var m,g,w,p,C,x,j,y,v,d,Q,P;if(this.state.fetchStatus!=="idle"&&((m=i(this,D))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(i(this,D))return i(this,D).continueRetry(),i(this,D).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(M=>M.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,n=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(h(this,pe,!0),r.signal)})},l=()=>{const f=Ht(this.options,a),A=(()=>{const Y={client:i(this,ge),queryKey:this.queryKey,meta:this.meta};return n(Y),Y})();return h(this,pe,!1),this.options.persister?this.options.persister(f,A,this):f(A)},c=(()=>{const f={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:i(this,ge),state:this.state,fetchFn:l};return n(f),f})();(g=this.options.behavior)==null||g.onFetch(c,this),h(this,Ee,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=c.fetchOptions)==null?void 0:w.meta))&&b(this,K,V).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta}),h(this,D,Vt({initialPromise:a==null?void 0:a.initialPromise,fn:c.fetchFn,onCancel:f=>{f instanceof rt&&f.revert&&this.setState({...i(this,Ee),fetchStatus:"idle"}),r.abort()},onFail:(f,M)=>{b(this,K,V).call(this,{type:"failed",failureCount:f,error:M})},onPause:()=>{b(this,K,V).call(this,{type:"pause"})},onContinue:()=>{b(this,K,V).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const f=await i(this,D).start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),(x=(C=i(this,_).config).onSuccess)==null||x.call(C,f,this),(y=(j=i(this,_).config).onSettled)==null||y.call(j,f,this.state.error,this),f}catch(f){if(f instanceof rt){if(f.silent)return i(this,D).promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw b(this,K,V).call(this,{type:"error",error:f}),(d=(v=i(this,_).config).onError)==null||d.call(v,f,this),(P=(Q=i(this,_).config).onSettled)==null||P.call(Q,this.state.data,f,this),f}finally{this.scheduleGc()}}},me=new WeakMap,Ee=new WeakMap,_=new WeakMap,ge=new WeakMap,D=new WeakMap,_e=new WeakMap,pe=new WeakMap,K=new WeakSet,V=function(e){const a=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Jt(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...St(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return h(this,Ee,e.manual?n:void 0),n;case"error":const l=e.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=a(this.state),T.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),i(this,_).notify({query:this,type:"updated",action:e})})},qt);function Jt(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Wt(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function St(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Rt(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,a=e!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var L,N,$e,q,je,Fe,z,ie,Ke,Qe,Me,xe,ye,ne,De,R,Ae,it,nt,lt,ct,ot,ht,dt,Yt,kt,Ps=(kt=class extends Ge{constructor(e,a){super();u(this,R);u(this,L);u(this,N);u(this,$e);u(this,q);u(this,je);u(this,Fe);u(this,z);u(this,ie);u(this,Ke);u(this,Qe);u(this,Me);u(this,xe);u(this,ye);u(this,ne);u(this,De,new Set);this.options=a,h(this,L,e),h(this,ie,null),h(this,z,at()),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,N).addObserver(this),Pt(i(this,N),this.options)?b(this,R,Ae).call(this):this.updateResult(),b(this,R,ct).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ut(i(this,N),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ut(i(this,N),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,b(this,R,ot).call(this),b(this,R,ht).call(this),i(this,N).removeObserver(this)}setOptions(e){const a=this.options,r=i(this,N);if(this.options=i(this,L).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $(this.options.enabled,i(this,N))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");b(this,R,dt).call(this),i(this,N).setOptions(this.options),a._defaulted&&!et(this.options,a)&&i(this,L).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,N),observer:this});const n=this.hasListeners();n&&Ot(i(this,N),r,this.options,a)&&b(this,R,Ae).call(this),this.updateResult(),n&&(i(this,N)!==r||$(this.options.enabled,i(this,N))!==$(a.enabled,i(this,N))||he(this.options.staleTime,i(this,N))!==he(a.staleTime,i(this,N)))&&b(this,R,it).call(this);const l=b(this,R,nt).call(this);n&&(i(this,N)!==r||$(this.options.enabled,i(this,N))!==$(a.enabled,i(this,N))||l!==i(this,ne))&&b(this,R,lt).call(this,l)}getOptimisticResult(e){const a=i(this,L).getQueryCache().build(i(this,L),e),r=this.createResult(a,e);return Es(this,r)&&(h(this,q,r),h(this,Fe,this.options),h(this,je,i(this,N).state)),r}getCurrentResult(){return i(this,q)}trackResult(e,a){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),a==null||a(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&i(this,z).status==="pending"&&i(this,z).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){i(this,De).add(e)}getCurrentQuery(){return i(this,N)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const a=i(this,L).defaultQueryOptions(e),r=i(this,L).getQueryCache().build(i(this,L),a);return r.fetch().then(()=>this.createResult(r,a))}fetch(e){return b(this,R,Ae).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,q)))}createResult(e,a){var Z;const r=i(this,N),n=this.options,l=i(this,q),o=i(this,je),c=i(this,Fe),g=e!==r?e.state:i(this,$e),{state:w}=e;let p={...w},C=!1,x;if(a._optimisticResults){const S=this.hasListeners(),F=!S&&Pt(e,a),Ce=S&&Ot(e,r,a,n);(F||Ce)&&(p={...p,...Jt(w.data,e.options)}),a._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:j,errorUpdatedAt:y,status:v}=p;x=p.data;let d=!1;if(a.placeholderData!==void 0&&x===void 0&&v==="pending"){let S;l!=null&&l.isPlaceholderData&&a.placeholderData===(c==null?void 0:c.placeholderData)?(S=l.data,d=!0):S=typeof a.placeholderData=="function"?a.placeholderData((Z=i(this,Me))==null?void 0:Z.state.data,i(this,Me)):a.placeholderData,S!==void 0&&(v="success",x=st(l==null?void 0:l.data,S,a),C=!0)}if(a.select&&x!==void 0&&!d)if(l&&x===(o==null?void 0:o.data)&&a.select===i(this,Ke))x=i(this,Qe);else try{h(this,Ke,a.select),x=a.select(x),x=st(l==null?void 0:l.data,x,a),h(this,Qe,x),h(this,ie,null)}catch(S){h(this,ie,S)}i(this,ie)&&(j=i(this,ie),x=i(this,Qe),y=Date.now(),v="error");const Q=p.fetchStatus==="fetching",P=v==="pending",f=v==="error",M=P&&Q,A=x!==void 0,I={status:v,fetchStatus:p.fetchStatus,isPending:P,isSuccess:v==="success",isError:f,isInitialLoading:M,isLoading:M,data:x,dataUpdatedAt:p.dataUpdatedAt,error:j,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>g.dataUpdateCount||p.errorUpdateCount>g.errorUpdateCount,isFetching:Q,isRefetching:Q&&!P,isLoadingError:f&&!A,isPaused:p.fetchStatus==="paused",isPlaceholderData:C,isRefetchError:f&&A,isStale:jt(e,a),refetch:this.refetch,promise:i(this,z),isEnabled:$(a.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const S=We=>{I.status==="error"?We.reject(I.error):I.data!==void 0&&We.resolve(I.data)},F=()=>{const We=h(this,z,I.promise=at());S(We)},Ce=i(this,z);switch(Ce.status){case"pending":e.queryHash===r.queryHash&&S(Ce);break;case"fulfilled":(I.status==="error"||I.data!==Ce.value)&&F();break;case"rejected":(I.status!=="error"||I.error!==Ce.reason)&&F();break}}return I}updateResult(){const e=i(this,q),a=this.createResult(i(this,N),this.options);if(h(this,je,i(this,N).state),h(this,Fe,this.options),i(this,je).data!==void 0&&h(this,Me,i(this,N)),et(a,e))return;h(this,q,a);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,l=typeof n=="function"?n():n;if(l==="all"||!l&&!i(this,De).size)return!0;const o=new Set(l??i(this,De));return this.options.throwOnError&&o.add("error"),Object.keys(i(this,q)).some(c=>{const m=c;return i(this,q)[m]!==e[m]&&o.has(m)})};b(this,R,Yt).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&b(this,R,ct).call(this)}},L=new WeakMap,N=new WeakMap,$e=new WeakMap,q=new WeakMap,je=new WeakMap,Fe=new WeakMap,z=new WeakMap,ie=new WeakMap,Ke=new WeakMap,Qe=new WeakMap,Me=new WeakMap,xe=new WeakMap,ye=new WeakMap,ne=new WeakMap,De=new WeakMap,R=new WeakSet,Ae=function(e){b(this,R,dt).call(this);let a=i(this,N).fetch(this.options,e);return e!=null&&e.throwOnError||(a=a.catch(U)),a},it=function(){b(this,R,ot).call(this);const e=he(this.options.staleTime,i(this,N));if(we||i(this,q).isStale||!Xe(e))return;const r=Kt(i(this,q).dataUpdatedAt,e)+1;h(this,xe,de.setTimeout(()=>{i(this,q).isStale||this.updateResult()},r))},nt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,N)):this.options.refetchInterval)??!1},lt=function(e){b(this,R,ht).call(this),h(this,ne,e),!(we||$(this.options.enabled,i(this,N))===!1||!Xe(i(this,ne))||i(this,ne)===0)&&h(this,ye,de.setInterval(()=>{(this.options.refetchIntervalInBackground||pt.isFocused())&&b(this,R,Ae).call(this)},i(this,ne)))},ct=function(){b(this,R,it).call(this),b(this,R,lt).call(this,b(this,R,nt).call(this))},ot=function(){i(this,xe)&&(de.clearTimeout(i(this,xe)),h(this,xe,void 0))},ht=function(){i(this,ye)&&(de.clearInterval(i(this,ye)),h(this,ye,void 0))},dt=function(){const e=i(this,L).getQueryCache().build(i(this,L),this.options);if(e===i(this,N))return;const a=i(this,N);h(this,N,e),h(this,$e,e.state),this.hasListeners()&&(a==null||a.removeObserver(this),e.addObserver(this))},Yt=function(e){T.batch(()=>{e.listeners&&this.listeners.forEach(a=>{a(i(this,q))}),i(this,L).getQueryCache().notify({query:i(this,N),type:"observerResultsUpdated"})})},kt);function Os(t,e){return $(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Pt(t,e){return Os(t,e)||t.state.data!==void 0&&ut(t,e,e.refetchOnMount)}function ut(t,e,a){if($(e.enabled,t)!==!1&&he(e.staleTime,t)!=="static"){const r=typeof a=="function"?a(t):a;return r==="always"||r!==!1&&jt(t,e)}return!1}function Ot(t,e,a,r){return(t!==e||$(r.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&jt(t,a)}function jt(t,e){return $(e.enabled,t)!==!1&&t.isStaleByTime(he(e.staleTime,t))}function Es(t,e){return!et(t.getCurrentResult(),e)}function Et(t){return{onFetch:(e,a)=>{var w,p,C,x,j;const r=e.options,n=(C=(p=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:p.fetchMore)==null?void 0:C.direction,l=((x=e.state.data)==null?void 0:x.pages)||[],o=((j=e.state.data)==null?void 0:j.pageParams)||[];let c={pages:[],pageParams:[]},m=0;const g=async()=>{let y=!1;const v=P=>{vs(P,()=>e.signal,()=>y=!0)},d=Ht(e.options,e.fetchOptions),Q=async(P,f,M)=>{if(y)return Promise.reject();if(f==null&&P.pages.length)return Promise.resolve(P);const Y=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:f,direction:M?"backward":"forward",meta:e.options.meta};return v(F),F})(),I=await d(Y),{maxPages:Z}=e.options,S=M?ys:xs;return{pages:S(P.pages,I,Z),pageParams:S(P.pageParams,f,Z)}};if(n&&l.length){const P=n==="backward",f=P?Fs:Ft,M={pages:l,pageParams:o},A=f(r,M);c=await Q(M,A,P)}else{const P=t??l.length;do{const f=m===0?o[0]??r.initialPageParam:Ft(r,c);if(m>0&&f==null)break;c=await Q(c,f),m++}while(m<P)}return c};e.options.persister?e.fetchFn=()=>{var y,v;return(v=(y=e.options).persister)==null?void 0:v.call(y,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a)}:e.fetchFn=g}}}function Ft(t,{pages:e,pageParams:a}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,a[r],a):void 0}function Fs(t,{pages:e,pageParams:a}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,a[0],a):void 0}var Be,H,k,ve,G,te,At,Qs=(At=class extends zt{constructor(e){super();u(this,G);u(this,Be);u(this,H);u(this,k);u(this,ve);h(this,Be,e.client),this.mutationId=e.mutationId,h(this,k,e.mutationCache),h(this,H,[]),this.state=e.state||Ms(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){i(this,H).includes(e)||(i(this,H).push(e),this.clearGcTimeout(),i(this,k).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){h(this,H,i(this,H).filter(a=>a!==e)),this.scheduleGc(),i(this,k).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){i(this,H).length||(this.state.status==="pending"?this.scheduleGc():i(this,k).remove(this))}continue(){var e;return((e=i(this,ve))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,c,m,g,w,p,C,x,j,y,v,d,Q,P,f,M,A,Y,I,Z;const a=()=>{b(this,G,te).call(this,{type:"continue"})},r={client:i(this,Be),meta:this.options.meta,mutationKey:this.options.mutationKey};h(this,ve,Vt({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(S,F)=>{b(this,G,te).call(this,{type:"failed",failureCount:S,error:F})},onPause:()=>{b(this,G,te).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>i(this,k).canRun(this)}));const n=this.state.status==="pending",l=!i(this,ve).canStart();try{if(n)a();else{b(this,G,te).call(this,{type:"pending",variables:e,isPaused:l}),await((c=(o=i(this,k).config).onMutate)==null?void 0:c.call(o,e,this,r));const F=await((g=(m=this.options).onMutate)==null?void 0:g.call(m,e,r));F!==this.state.context&&b(this,G,te).call(this,{type:"pending",context:F,variables:e,isPaused:l})}const S=await i(this,ve).start();return await((p=(w=i(this,k).config).onSuccess)==null?void 0:p.call(w,S,e,this.state.context,this,r)),await((x=(C=this.options).onSuccess)==null?void 0:x.call(C,S,e,this.state.context,r)),await((y=(j=i(this,k).config).onSettled)==null?void 0:y.call(j,S,null,this.state.variables,this.state.context,this,r)),await((d=(v=this.options).onSettled)==null?void 0:d.call(v,S,null,e,this.state.context,r)),b(this,G,te).call(this,{type:"success",data:S}),S}catch(S){try{await((P=(Q=i(this,k).config).onError)==null?void 0:P.call(Q,S,e,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((M=(f=this.options).onError)==null?void 0:M.call(f,S,e,this.state.context,r))}catch(F){Promise.reject(F)}try{await((Y=(A=i(this,k).config).onSettled)==null?void 0:Y.call(A,void 0,S,this.state.variables,this.state.context,this,r))}catch(F){Promise.reject(F)}try{await((Z=(I=this.options).onSettled)==null?void 0:Z.call(I,void 0,S,e,this.state.context,r))}catch(F){Promise.reject(F)}throw b(this,G,te).call(this,{type:"error",error:S}),S}finally{i(this,k).runNext(this)}}},Be=new WeakMap,H=new WeakMap,k=new WeakMap,ve=new WeakMap,G=new WeakSet,te=function(e){const a=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=a(this.state),T.batch(()=>{i(this,H).forEach(r=>{r.onMutationUpdate(e)}),i(this,k).notify({mutation:this,type:"updated",action:e})})},At);function Ms(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var J,B,He,Lt,Ds=(Lt=class extends Ge{constructor(e={}){super();u(this,J);u(this,B);u(this,He);this.config=e,h(this,J,new Set),h(this,B,new Map),h(this,He,0)}build(e,a,r){const n=new Qs({client:e,mutationCache:this,mutationId:++Ve(this,He)._,options:e.defaultMutationOptions(a),state:r});return this.add(n),n}add(e){i(this,J).add(e);const a=Je(e);if(typeof a=="string"){const r=i(this,B).get(a);r?r.push(e):i(this,B).set(a,[e])}this.notify({type:"added",mutation:e})}remove(e){if(i(this,J).delete(e)){const a=Je(e);if(typeof a=="string"){const r=i(this,B).get(a);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&i(this,B).delete(a)}}this.notify({type:"removed",mutation:e})}canRun(e){const a=Je(e);if(typeof a=="string"){const r=i(this,B).get(a),n=r==null?void 0:r.find(l=>l.state.status==="pending");return!n||n===e}else return!0}runNext(e){var r;const a=Je(e);if(typeof a=="string"){const n=(r=i(this,B).get(a))==null?void 0:r.find(l=>l!==e&&l.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){T.batch(()=>{i(this,J).forEach(e=>{this.notify({type:"removed",mutation:e})}),i(this,J).clear(),i(this,B).clear()})}getAll(){return Array.from(i(this,J))}find(e){const a={exact:!0,...e};return this.getAll().find(r=>Nt(a,r))}findAll(e={}){return this.getAll().filter(a=>Nt(e,a))}notify(e){T.batch(()=>{this.listeners.forEach(a=>{a(e)})})}resumePausedMutations(){const e=this.getAll().filter(a=>a.state.isPaused);return T.batch(()=>Promise.all(e.map(a=>a.continue().catch(U))))}},J=new WeakMap,B=new WeakMap,He=new WeakMap,Lt);function Je(t){var e;return(e=t.options.scope)==null?void 0:e.id}var W,Ut,Ts=(Ut=class extends Ge{constructor(e={}){super();u(this,W);this.config=e,h(this,W,new Map)}build(e,a,r){const n=a.queryKey,l=a.queryHash??mt(n,a);let o=this.get(l);return o||(o=new Rs({client:e,queryKey:n,queryHash:l,options:e.defaultQueryOptions(a),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){i(this,W).has(e.queryHash)||(i(this,W).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const a=i(this,W).get(e.queryHash);a&&(e.destroy(),a===e&&i(this,W).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){T.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return i(this,W).get(e)}getAll(){return[...i(this,W).values()]}find(e){const a={exact:!0,...e};return this.getAll().find(r=>bt(a,r))}findAll(e={}){const a=this.getAll();return Object.keys(e).length>0?a.filter(r=>bt(e,r)):a}notify(e){T.batch(()=>{this.listeners.forEach(a=>{a(e)})})}onFocus(){T.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){T.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},W=new WeakMap,Ut),O,le,ce,Te,Ie,oe,qe,ke,_t,Is=(_t=class{constructor(t={}){u(this,O);u(this,le);u(this,ce);u(this,Te);u(this,Ie);u(this,oe);u(this,qe);u(this,ke);h(this,O,t.queryCache||new Ts),h(this,le,t.mutationCache||new Ds),h(this,ce,t.defaultOptions||{}),h(this,Te,new Map),h(this,Ie,new Map),h(this,oe,0)}mount(){Ve(this,oe)._++,i(this,oe)===1&&(h(this,qe,pt.subscribe(async t=>{t&&(await this.resumePausedMutations(),i(this,O).onFocus())})),h(this,ke,Ye.subscribe(async t=>{t&&(await this.resumePausedMutations(),i(this,O).onOnline())})))}unmount(){var t,e;Ve(this,oe)._--,i(this,oe)===0&&((t=i(this,qe))==null||t.call(this),h(this,qe,void 0),(e=i(this,ke))==null||e.call(this),h(this,ke,void 0))}isFetching(t){return i(this,O).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return i(this,le).findAll({...t,status:"pending"}).length}getQueryData(t){var a;const e=this.defaultQueryOptions({queryKey:t});return(a=i(this,O).get(e.queryHash))==null?void 0:a.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),a=i(this,O).build(this,e),r=a.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(he(e.staleTime,a))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return i(this,O).findAll(t).map(({queryKey:e,state:a})=>{const r=a.data;return[e,r]})}setQueryData(t,e,a){const r=this.defaultQueryOptions({queryKey:t}),n=i(this,O).get(r.queryHash),l=n==null?void 0:n.state.data,o=gs(e,l);if(o!==void 0)return i(this,O).build(this,r).setData(o,{...a,manual:!0})}setQueriesData(t,e,a){return T.batch(()=>i(this,O).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,a)]))}getQueryState(t){var a;const e=this.defaultQueryOptions({queryKey:t});return(a=i(this,O).get(e.queryHash))==null?void 0:a.state}removeQueries(t){const e=i(this,O);T.batch(()=>{e.findAll(t).forEach(a=>{e.remove(a)})})}resetQueries(t,e){const a=i(this,O);return T.batch(()=>(a.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const a={revert:!0,...e},r=T.batch(()=>i(this,O).findAll(t).map(n=>n.cancel(a)));return Promise.all(r).then(U).catch(U)}invalidateQueries(t,e={}){return T.batch(()=>(i(this,O).findAll(t).forEach(a=>{a.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const a={...e,cancelRefetch:e.cancelRefetch??!0},r=T.batch(()=>i(this,O).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let l=n.fetch(void 0,a);return a.throwOnError||(l=l.catch(U)),n.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(U)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const a=i(this,O).build(this,e);return a.isStaleByTime(he(e.staleTime,a))?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(U).catch(U)}fetchInfiniteQuery(t){return t.behavior=Et(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(U).catch(U)}ensureInfiniteQueryData(t){return t.behavior=Et(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ye.isOnline()?i(this,le).resumePausedMutations():Promise.resolve()}getQueryCache(){return i(this,O)}getMutationCache(){return i(this,le)}getDefaultOptions(){return i(this,ce)}setDefaultOptions(t){h(this,ce,t)}setQueryDefaults(t,e){i(this,Te).set(Le(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...i(this,Te).values()],a={};return e.forEach(r=>{Ue(t,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(t,e){i(this,Ie).set(Le(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...i(this,Ie).values()],a={};return e.forEach(r=>{Ue(t,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const e={...i(this,ce).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=mt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===gt&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...i(this,ce).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){i(this,O).clear(),i(this,le).clear()}},O=new WeakMap,le=new WeakMap,ce=new WeakMap,Te=new WeakMap,Ie=new WeakMap,oe=new WeakMap,qe=new WeakMap,ke=new WeakMap,_t),Zt=E.createContext(void 0),qs=t=>{const e=E.useContext(Zt);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ks=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(Zt.Provider,{value:t,children:e})),Xt=E.createContext(!1),As=()=>E.useContext(Xt);Xt.Provider;function Ls(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Us=E.createContext(Ls()),_s=()=>E.useContext(Us),$s=(t,e,a)=>{const r=a!=null&&a.state.error&&typeof t.throwOnError=="function"?Gt(t.throwOnError,[a.state.error,a]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||r)&&(e.isReset()||(t.retryOnMount=!1))},Ks=t=>{E.useEffect(()=>{t.clearReset()},[t])},Bs=({result:t,errorResetBoundary:e,throwOnError:a,query:r,suspense:n})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(n&&t.data===void 0||Gt(a,[t.error,r])),Hs=t=>{if(t.suspense){const a=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>a(r(...n)):a(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Gs=(t,e)=>t.isLoading&&t.isFetching&&!e,Ws=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Qt=(t,e,a)=>e.fetchOptimistic(t).catch(()=>{a.clearReset()});function Vs(t,e,a){var C,x,j,y;const r=As(),n=_s(),l=qs(),o=l.defaultQueryOptions(t);(x=(C=l.getDefaultOptions().queries)==null?void 0:C._experimental_beforeQuery)==null||x.call(C,o);const c=l.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",Hs(o),$s(o,n,c),Ks(n);const m=!l.getQueryCache().get(o.queryHash),[g]=E.useState(()=>new e(l,o)),w=g.getOptimisticResult(o),p=!r&&t.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(v=>{const d=p?g.subscribe(T.batchCalls(v)):U;return g.updateResult(),d},[g,p]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),E.useEffect(()=>{g.setOptions(o)},[o,g]),Ws(o,w))throw Qt(o,g,n);if(Bs({result:w,errorResetBoundary:n,throwOnError:o.throwOnError,query:c,suspense:o.suspense}))throw w.error;if((y=(j=l.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||y.call(j,o,w),o.experimental_prefetchInRender&&!we&&Gs(w,r)){const v=m?Qt(o,g,n):c==null?void 0:c.promise;v==null||v.catch(U).finally(()=>{g.updateResult()})}return o.notifyOnChangeProps?w:g.trackResult(w)}function be(t,e){return Vs(t,Ps)}const zs=()=>s.jsxs("header",{className:"gj-header",children:[s.jsxs("div",{className:"gj-header-brand",children:[s.jsxs("svg",{className:"gj-logo",viewBox:"0 0 32 32",width:"28",height:"28",fill:"none",role:"img","aria-label":"GraphJin logo",children:[s.jsx("circle",{cx:"16",cy:"16",r:"14",stroke:"currentColor",strokeWidth:"2"}),s.jsx("path",{d:"M10 16h12M16 10v12M12 12l8 8M20 12l-8 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),s.jsx("span",{className:"gj-header-title",children:"GraphJin"}),s.jsx("span",{className:"gj-header-subtitle",children:"Admin"})]}),s.jsx("div",{className:"gj-header-actions",children:s.jsx("span",{className:"gj-header-badge gj-header-env",children:"Dev"})})]}),Js=[{path:"/",label:"Query Editor",icon:s.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("polyline",{points:"4,17 10,11 4,5"}),s.jsx("line",{x1:"12",y1:"19",x2:"20",y2:"19"})]})},{path:"/queries",label:"Saved Queries",icon:s.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),s.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),s.jsx("polyline",{points:"7 3 7 8 15 8"})]})},{path:"/schema",label:"Schema Explorer",icon:s.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),s.jsx("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),s.jsx("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"})]})},{path:"/config",label:"Configuration",icon:s.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("circle",{cx:"12",cy:"12",r:"3"}),s.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]})},{path:"/databases",label:"Databases",icon:s.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}),s.jsx("rect",{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}),s.jsx("line",{x1:"6",y1:"6",x2:"6.01",y2:"6"}),s.jsx("line",{x1:"6",y1:"18",x2:"6.01",y2:"18"})]})},{path:"/api-docs",label:"API Docs",icon:s.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),s.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}),s.jsx("line",{x1:"8",y1:"6",x2:"16",y2:"6"}),s.jsx("line",{x1:"8",y1:"10",x2:"16",y2:"10"}),s.jsx("line",{x1:"8",y1:"14",x2:"12",y2:"14"})]})}],Ys=()=>s.jsx("nav",{className:"gj-sidebar",children:s.jsx("ul",{className:"gj-sidebar-nav",children:Js.map(t=>s.jsx("li",{children:s.jsxs(ls,{to:t.path,className:({isActive:e})=>`gj-sidebar-link ${e?"active":""}`,end:t.path==="/","aria-current":({isActive:e})=>e?"page":void 0,children:[s.jsx("span",{className:"gj-sidebar-icon",children:t.icon}),s.jsx("span",{className:"gj-sidebar-label",children:t.label})]})},t.path))})}),Zs=({children:t})=>s.jsxs("div",{className:"gj-app",children:[s.jsx(zs,{}),s.jsxs("div",{className:"gj-main",children:[s.jsx(Ys,{}),s.jsx("main",{className:"gj-content",children:t})]})]});class Xs extends $t.Component{constructor(a){super(a);yt(this,"handleRetry",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){console.error("GraphJin Web Error:",a,r)}render(){var a;return this.state.hasError?s.jsx("div",{className:"error-boundary",children:s.jsxs("div",{className:"error-content",children:[s.jsx("div",{className:"error-icon",children:"!"}),s.jsx("h1",{children:"Something went wrong"}),s.jsx("p",{className:"error-message",children:((a=this.state.error)==null?void 0:a.message)||"An unexpected error occurred"}),s.jsx("button",{onClick:this.handleRetry,className:"retry-button",children:"Retry"})]})}):this.props.children}}const ea="/api/v1/graphql",ta=`# Welcome to GraphJin
# Use this editor to build and test your GraphQL queries

query getUsers {
  users(limit: 10) {
    id
    full_name
    email
  }
}
`,sa=()=>{const[t,e]=E.useState(ta),{fetcher:a,explorer:r}=E.useMemo(()=>{let n=ea;const o=new URLSearchParams(window.location.search).get("endpoint");o!==null&&o!==""&&o.startsWith("/")&&!o.startsWith("//")&&(n=o);const c=window.location.protocol==="https:"?"wss:":"ws:",m=as({url:`${window.location.protocol}//${window.location.host}${n}`,subscriptionUrl:`${c}//${window.location.host}${n}`}),g=rs();return{fetcher:m,explorer:g}},[]);return s.jsx("div",{className:"gj-query-editor",children:s.jsx(is,{fetcher:a,query:t,onEditQuery:e,plugins:[r]})})},X="/api/v1/admin";async function aa(t){let e;try{e=await t.json()}catch{throw t.ok?new Error("Invalid response from server"):new Error(`Request failed: ${t.status} ${t.statusText}`)}if(!t.ok)throw new Error((e==null?void 0:e.error)||`Request failed: ${t.status}`);return e}async function ee(t){try{const e=await fetch(t);return aa(e)}catch(e){throw e.name==="TypeError"&&e.message.includes("fetch")?new Error("Network error: Unable to connect to server"):e}}const Ne={getTables:()=>ee(`${X}/tables`),getTableSchema:t=>ee(`${X}/tables/${encodeURIComponent(t)}`),getQueries:()=>ee(`${X}/queries`),getQueryDetail:t=>ee(`${X}/queries/${encodeURIComponent(t)}`),getFragments:()=>ee(`${X}/fragments`),getConfig:()=>ee(`${X}/config`),getDatabase:()=>ee(`${X}/database`),getDatabases:()=>ee(`${X}/databases`)},ra=()=>{const[t,e]=E.useState(null),[a,r]=E.useState(""),{data:n,isLoading:l,error:o}=be({queryKey:["queries"],queryFn:Ne.getQueries}),{data:c,isLoading:m}=be({queryKey:["queryDetail",t],queryFn:()=>Ne.getQueryDetail(t),enabled:!!t}),{data:g,error:w}=be({queryKey:["fragments"],queryFn:Ne.getFragments}),p=(n==null?void 0:n.queries)||[],C=(g==null?void 0:g.fragments)||[],x=E.useMemo(()=>p.filter(j=>j.name.toLowerCase().includes(a.toLowerCase())||j.namespace&&j.namespace.toLowerCase().includes(a.toLowerCase())),[p,a]);return l?s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Saved Queries"}),s.jsx("p",{className:"gj-page-subtitle",children:"Manage your GraphQL queries and mutations"})]}),s.jsx("div",{className:"gj-loading",children:"Loading queries..."})]}):o?s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Saved Queries"}),s.jsx("p",{className:"gj-page-subtitle",children:"Manage your GraphQL queries and mutations"})]}),s.jsx("div",{className:"gj-card",children:s.jsxs("div",{className:"gj-empty",children:[s.jsx("h3",{className:"gj-empty-title",children:"Failed to load queries"}),s.jsx("p",{className:"gj-empty-text",children:o.message})]})})]}):s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Saved Queries"}),s.jsxs("p",{className:"gj-page-subtitle",children:[p.length," queries, ",C.length," fragments"]})]}),s.jsxs("div",{className:"gj-queries-layout",children:[s.jsx("div",{className:"gj-queries-sidebar",children:s.jsxs("div",{className:"gj-card",children:[s.jsxs("div",{className:"gj-search-box",children:[s.jsxs("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",role:"img","aria-hidden":"true",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("path",{d:"m21 21-4.35-4.35"})]}),s.jsx("input",{type:"text",placeholder:"Search queries...",value:a,onChange:j=>r(j.target.value),className:"gj-search-input","aria-label":"Search queries"})]}),s.jsx("h3",{className:"gj-card-title",children:"Queries"}),s.jsx("div",{className:"gj-query-list",children:x.length>0?x.map(j=>s.jsxs("button",{className:`gj-query-item ${t===j.name?"active":""}`,onClick:()=>e(j.name),"aria-selected":t===j.name,children:[s.jsx("span",{className:`gj-query-type gj-query-${j.operation}`,children:j.operation==="mutation"?"M":"Q"}),s.jsxs("div",{className:"gj-query-info",children:[s.jsx("span",{className:"gj-query-name",children:j.name}),j.namespace&&s.jsx("span",{className:"gj-query-namespace",children:j.namespace})]})]},`${j.namespace||""}.${j.name}`)):s.jsx("div",{className:"gj-empty-small",children:s.jsx("p",{children:a?"No matching queries":"No saved queries"})})}),w?s.jsx("div",{className:"gj-error-small",children:s.jsx("p",{children:"Failed to load fragments"})}):C.length>0?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"gj-card-title gj-mt",children:"Fragments"}),s.jsx("div",{className:"gj-fragment-list",children:C.map(j=>s.jsxs("div",{className:"gj-fragment-item",children:[s.jsx("span",{className:"gj-fragment-icon",children:"F"}),s.jsx("span",{className:"gj-fragment-name",children:j.name})]},j.name))})]}):null]})}),s.jsx("div",{className:"gj-queries-content",children:t?m?s.jsx("div",{className:"gj-loading",children:"Loading query..."}):c?s.jsxs("div",{className:"gj-card",children:[s.jsxs("div",{className:"gj-query-header",children:[s.jsx("h3",{className:"gj-card-title",children:c.name}),s.jsx("span",{className:`gj-badge gj-badge-${c.operation}`,children:c.operation})]}),c.namespace&&s.jsxs("p",{className:"gj-query-meta",children:["Namespace: ",c.namespace]}),s.jsxs("div",{className:"gj-code-section",children:[s.jsx("h4",{className:"gj-section-title",children:"Query"}),s.jsx("pre",{className:"gj-code-block",children:s.jsx("code",{children:c.query})})]}),c.variables&&Object.keys(c.variables).length>0&&s.jsxs("div",{className:"gj-code-section",children:[s.jsx("h4",{className:"gj-section-title",children:"Variables"}),s.jsx("pre",{className:"gj-code-block",children:s.jsx("code",{children:JSON.stringify(c.variables,null,2)})})]})]}):null:s.jsx("div",{className:"gj-card",children:s.jsxs("div",{className:"gj-empty",children:[s.jsx("div",{className:"gj-empty-icon",children:s.jsxs("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[s.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),s.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),s.jsx("polyline",{points:"7 3 7 8 15 8"})]})}),s.jsx("h3",{className:"gj-empty-title",children:"Select a query"}),s.jsx("p",{className:"gj-empty-text",children:"Choose a query from the list to view its details"})]})})})]})]})},ia=()=>{var m,g,w,p,C,x,j,y,v;const[t,e]=E.useState(null),{data:a,isLoading:r,error:n}=be({queryKey:["tables"],queryFn:Ne.getTables}),{data:l,isLoading:o}=be({queryKey:["tableSchema",t],queryFn:()=>Ne.getTableSchema(t),enabled:!!t});if(r)return s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Schema Explorer"}),s.jsx("p",{className:"gj-page-subtitle",children:"Browse database tables, columns, and relationships"})]}),s.jsx("div",{className:"gj-loading",children:"Loading tables..."})]});if(n)return s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Schema Explorer"}),s.jsx("p",{className:"gj-page-subtitle",children:"Browse database tables, columns, and relationships"})]}),s.jsx("div",{className:"gj-card",children:s.jsxs("div",{className:"gj-empty",children:[s.jsx("h3",{className:"gj-empty-title",children:"Failed to load schema"}),s.jsx("p",{className:"gj-empty-text",children:n.message})]})})]});const c=(a==null?void 0:a.tables)||[];return s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Schema Explorer"}),s.jsxs("p",{className:"gj-page-subtitle",children:[c.length," tables found"]})]}),s.jsxs("div",{className:"gj-schema-layout",children:[s.jsx("div",{className:"gj-schema-sidebar",children:s.jsxs("div",{className:"gj-card",children:[s.jsx("h3",{className:"gj-card-title",children:"Tables"}),s.jsx("div",{className:"gj-table-list",children:c.map(d=>s.jsxs("button",{className:`gj-table-item ${t===d.name?"active":""}`,onClick:()=>e(d.name),"aria-selected":t===d.name,children:[s.jsx("span",{className:"gj-table-name",children:d.name}),s.jsxs("span",{className:"gj-table-meta",children:[d.column_count," cols"]})]},d.name))})]})}),s.jsx("div",{className:"gj-schema-content",children:t?o?s.jsx("div",{className:"gj-loading",children:"Loading schema..."}):l?s.jsxs("div",{className:"gj-card",children:[s.jsx("h3",{className:"gj-card-title",children:l.name}),l.comment&&s.jsx("p",{className:"gj-table-comment",children:l.comment}),s.jsxs("div",{className:"gj-schema-section",children:[s.jsx("h4",{className:"gj-section-title",children:"Columns"}),s.jsxs("table",{className:"gj-data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Nullable"}),s.jsx("th",{children:"Key"})]})}),s.jsx("tbody",{children:(m=l.columns)==null?void 0:m.map(d=>s.jsxs("tr",{children:[s.jsx("td",{className:"gj-col-name",children:d.name}),s.jsxs("td",{className:"gj-col-type",children:[d.type,d.array?"[]":""]}),s.jsx("td",{children:d.nullable?"Yes":"No"}),s.jsxs("td",{children:[d.primary_key&&s.jsx("span",{className:"gj-badge gj-badge-pk",children:"PK"}),d.foreign_key&&s.jsx("span",{className:"gj-badge gj-badge-fk",title:d.foreign_key,children:"FK"})]})]},d.name))})]})]}),(((w=(g=l.relationships)==null?void 0:g.outgoing)==null?void 0:w.length)>0||((C=(p=l.relationships)==null?void 0:p.incoming)==null?void 0:C.length)>0)&&s.jsxs("div",{className:"gj-schema-section",children:[s.jsx("h4",{className:"gj-section-title",children:"Relationships"}),((j=(x=l.relationships)==null?void 0:x.outgoing)==null?void 0:j.length)>0&&s.jsxs("div",{className:"gj-rel-group",children:[s.jsx("h5",{className:"gj-rel-heading",children:"Outgoing (references)"}),l.relationships.outgoing.map(d=>s.jsxs("div",{className:"gj-rel-item",children:[s.jsx("span",{className:"gj-rel-name",children:d.name}),s.jsx("span",{className:"gj-rel-arrow",children:""}),s.jsx("span",{className:"gj-rel-table",children:d.table}),s.jsxs("span",{className:"gj-rel-type",children:["(",d.type,")"]})]},`${d.name}-${d.table}-out`))]}),((v=(y=l.relationships)==null?void 0:y.incoming)==null?void 0:v.length)>0&&s.jsxs("div",{className:"gj-rel-group",children:[s.jsx("h5",{className:"gj-rel-heading",children:"Incoming (referenced by)"}),l.relationships.incoming.map(d=>s.jsxs("div",{className:"gj-rel-item",children:[s.jsx("span",{className:"gj-rel-table",children:d.table}),s.jsx("span",{className:"gj-rel-arrow",children:""}),s.jsx("span",{className:"gj-rel-name",children:d.name}),s.jsxs("span",{className:"gj-rel-type",children:["(",d.type,")"]})]},`${d.name}-${d.table}-in`))]})]})]}):null:s.jsx("div",{className:"gj-card",children:s.jsxs("div",{className:"gj-empty",children:[s.jsx("div",{className:"gj-empty-icon",children:s.jsxs("svg",{viewBox:"0 0 24 24",width:"48",height:"48",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[s.jsx("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),s.jsx("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),s.jsx("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"})]})}),s.jsx("h3",{className:"gj-empty-title",children:"Select a table"}),s.jsx("p",{className:"gj-empty-text",children:"Choose a table from the list to view its schema"})]})})})]})]})},na=()=>{var r;const{data:t,isLoading:e,error:a}=be({queryKey:["config"],queryFn:Ne.getConfig});return e?s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Configuration"}),s.jsx("p",{className:"gj-page-subtitle",children:"View current GraphJin configuration settings"})]}),s.jsx("div",{className:"gj-loading",children:"Loading configuration..."})]}):a?s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Configuration"}),s.jsx("p",{className:"gj-page-subtitle",children:"View current GraphJin configuration settings"})]}),s.jsx("div",{className:"gj-card",children:s.jsxs("div",{className:"gj-empty",children:[s.jsx("h3",{className:"gj-empty-title",children:"Failed to load configuration"}),s.jsx("p",{className:"gj-empty-text",children:a.message})]})})]}):s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Configuration"}),s.jsx("p",{className:"gj-page-subtitle",children:"View current GraphJin configuration settings"})]}),s.jsx("div",{className:"gj-config-sections",children:(r=t==null?void 0:t.sections)==null?void 0:r.map(n=>s.jsx(la,{section:n},n.name))})]})},la=({section:t})=>{var m;const e=["general","server","database"].includes(t.name),[a,r]=E.useState(e),n=t.fields&&t.fields.length>0;if(!n&&!["general","server","database","auth","mcp","rateLimiter","compiler","security","cors"].includes(t.name))return null;const c=["roles","tables","functions","resolvers"].includes(t.name);return s.jsxs("div",{className:"gj-card gj-config-section",children:[s.jsxs("button",{className:"gj-config-header",onClick:()=>r(!a),"aria-expanded":a,children:[s.jsxs("h3",{className:"gj-card-title",children:[t.title,c&&` (${((m=t.fields)==null?void 0:m.length)||0})`]}),s.jsx("span",{className:`gj-config-toggle ${a?"open":""}`,children:s.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),a&&s.jsx("div",{className:"gj-config-content",children:n?s.jsx(ca,{section:t}):s.jsx("p",{className:"gj-config-empty",children:"No configuration set"})})]})},ca=({section:t})=>{switch(t.name){case"roles":return s.jsx(ha,{fields:t.fields});case"tables":return s.jsx(da,{fields:t.fields});case"functions":return s.jsx(ua,{fields:t.fields});case"resolvers":return s.jsx(fa,{fields:t.fields});default:return s.jsx("div",{className:"gj-info-list",children:t.fields.map(e=>s.jsx(oa,{field:e},e.key))})}},oa=({field:t})=>{const e=()=>{var a;if(t.sensitive)return s.jsx("span",{className:"gj-info-value gj-sensitive",children:"****"});switch(t.type){case"bool":return s.jsx("span",{className:`gj-info-value ${t.value?"gj-info-highlight":""}`,children:t.value?"Enabled":"Disabled"});case"int":case"float":return s.jsx("span",{className:"gj-info-value gj-info-number",children:t.value??0});case"duration":return s.jsx("span",{className:"gj-info-value",children:t.value||"0s"});case"array":return((a=t.value)==null?void 0:a.length)>0?s.jsx("div",{className:"gj-tag-list",children:t.value.map((r,n)=>s.jsx("span",{className:"gj-tag",children:r},n))}):s.jsx("span",{className:"gj-info-value gj-info-muted",children:"None"});default:return s.jsx("span",{className:"gj-info-value",children:t.value||"-"})}};return s.jsxs("div",{className:"gj-info-row",children:[s.jsx("span",{className:"gj-info-label",children:t.label}),e()]})},ha=({fields:t})=>{const[e,a]=E.useState({}),r=n=>{a(l=>({...l,[n]:!l[n]}))};return!t||t.length===0?s.jsx("p",{className:"gj-config-empty",children:"No roles configured"}):s.jsx("div",{className:"gj-roles-list",children:t.map(n=>{const l=n.value,o=e[l.name];return s.jsxs("div",{className:"gj-role-item",children:[s.jsxs("button",{className:"gj-role-header",onClick:()=>r(l.name),"aria-expanded":o,children:[s.jsxs("div",{className:"gj-role-info",children:[s.jsx("span",{className:"gj-role-name",children:l.name}),l.comment&&s.jsx("span",{className:"gj-role-comment",children:l.comment}),s.jsxs("span",{className:"gj-role-meta",children:[l.tableCount," table",l.tableCount!==1?"s":""]})]}),s.jsx("span",{className:`gj-config-toggle ${o?"open":""}`,children:s.jsx("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),o&&l.tables&&l.tables.length>0&&s.jsxs("div",{className:"gj-role-tables",children:[l.match&&s.jsxs("div",{className:"gj-role-match",children:[s.jsx("span",{className:"gj-info-label",children:"Match:"}),s.jsx("span",{className:"gj-info-value",children:l.match})]}),s.jsxs("table",{className:"gj-data-table gj-data-table-compact",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Table"}),s.jsx("th",{children:"Permissions"})]})}),s.jsx("tbody",{children:l.tables.map(c=>{var m;return s.jsxs("tr",{children:[s.jsx("td",{children:c.schema?`${c.schema}.${c.name}`:c.name}),s.jsx("td",{children:s.jsxs("div",{className:"gj-tag-list",children:[(m=c.permissions)==null?void 0:m.map(g=>s.jsx("span",{className:"gj-tag gj-tag-small",children:g},g)),c.readOnly&&s.jsx("span",{className:"gj-tag gj-tag-small gj-tag-muted",children:"read-only"})]})})]},c.name)})})]})]})]},l.name)})})},da=({fields:t})=>!t||t.length===0?s.jsx("p",{className:"gj-config-empty",children:"No custom table configurations"}):s.jsxs("table",{className:"gj-data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Schema"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Database"}),s.jsx("th",{children:"Blocklist"}),s.jsx("th",{children:"Columns"})]})}),s.jsx("tbody",{children:t.map(e=>{var r;const a=e.value;return s.jsxs("tr",{children:[s.jsx("td",{children:a.name}),s.jsx("td",{children:a.schema||"-"}),s.jsx("td",{children:a.type||"-"}),s.jsx("td",{children:a.database||"-"}),s.jsx("td",{children:((r=a.blocklist)==null?void 0:r.length)>0?s.jsx("div",{className:"gj-tag-list",children:a.blocklist.map(n=>s.jsx("span",{className:"gj-tag gj-tag-small",children:n},n))}):"-"}),s.jsx("td",{children:a.columnCount||0})]},`${a.schema||"default"}.${a.name}`)})})]}),ua=({fields:t})=>!t||t.length===0?s.jsx("p",{className:"gj-config-empty",children:"No functions configured"}):s.jsxs("table",{className:"gj-data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Schema"}),s.jsx("th",{children:"Return Type"})]})}),s.jsx("tbody",{children:t.map(e=>{const a=e.value;return s.jsxs("tr",{children:[s.jsx("td",{children:a.name}),s.jsx("td",{children:a.schema||"-"}),s.jsx("td",{children:a.returnType||"-"})]},a.name)})})]}),fa=({fields:t})=>!t||t.length===0?s.jsx("p",{className:"gj-config-empty",children:"No resolvers configured"}):s.jsxs("table",{className:"gj-data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Table"}),s.jsx("th",{children:"Column"})]})}),s.jsx("tbody",{children:t.map(e=>{const a=e.value;return s.jsxs("tr",{children:[s.jsx("td",{children:a.name}),s.jsx("td",{children:a.type||"-"}),s.jsx("td",{children:a.table||"-"}),s.jsx("td",{children:a.column||"-"})]},a.name)})})]}),ma=()=>{const{data:t,isLoading:e,error:a}=be({queryKey:["databases"],queryFn:Ne.getDatabases,refetchInterval:5e3});if(e)return s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Databases"}),s.jsx("p",{className:"gj-page-subtitle",children:"Database connections and statistics"})]}),s.jsx("div",{className:"gj-loading",children:"Loading databases..."})]});if(a)return s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Databases"}),s.jsx("p",{className:"gj-page-subtitle",children:"Database connections and statistics"})]}),s.jsx("div",{className:"gj-card",children:s.jsxs("div",{className:"gj-empty",children:[s.jsx("h3",{className:"gj-empty-title",children:"Failed to load databases"}),s.jsx("p",{className:"gj-empty-text",children:a.message})]})})]});const r=(t==null?void 0:t.databases)||[];return s.jsxs("div",{className:"gj-page",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"Databases"}),s.jsxs("p",{className:"gj-page-subtitle",children:[r.length," database",r.length!==1?"s":""," configured"]})]}),s.jsx("div",{className:"gj-databases-grid",children:r.map(n=>s.jsx(ga,{database:n},n.name))})]})},ga=({database:t})=>{const{name:e,type:a,isDefault:r,tableCount:n,pool:l}=t;return s.jsxs("div",{className:`gj-card gj-database-card ${r?"gj-database-default":""}`,children:[s.jsxs("div",{className:"gj-database-header",children:[s.jsx("h3",{className:"gj-card-title",children:e}),s.jsxs("div",{className:"gj-database-badges",children:[s.jsx("span",{className:"gj-badge gj-badge-type",children:a||"postgres"}),r&&s.jsx("span",{className:"gj-badge gj-badge-default",children:"Default"})]})]}),s.jsx("div",{className:"gj-info-list",children:s.jsxs("div",{className:"gj-info-row",children:[s.jsx("span",{className:"gj-info-label",children:"Tables"}),s.jsx("span",{className:"gj-info-value gj-info-number",children:n})]})}),l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"gj-pool-stats gj-pool-stats-compact",children:[s.jsxs("div",{className:"gj-pool-stat",children:[s.jsx("span",{className:"gj-pool-value",children:l.open}),s.jsx("span",{className:"gj-pool-label",children:"Open"})]}),s.jsxs("div",{className:"gj-pool-stat",children:[s.jsx("span",{className:"gj-pool-value gj-pool-active",children:l.inUse}),s.jsx("span",{className:"gj-pool-label",children:"In Use"})]}),s.jsxs("div",{className:"gj-pool-stat",children:[s.jsx("span",{className:"gj-pool-value gj-pool-idle",children:l.idle}),s.jsx("span",{className:"gj-pool-label",children:"Idle"})]}),s.jsxs("div",{className:"gj-pool-stat",children:[s.jsx("span",{className:"gj-pool-value",children:l.maxOpen}),s.jsx("span",{className:"gj-pool-label",children:"Max"})]})]}),s.jsxs("div",{className:"gj-pool-details gj-pool-details-compact",children:[s.jsxs("div",{className:"gj-info-row",children:[s.jsx("span",{className:"gj-info-label",children:"Wait Count"}),s.jsx("span",{className:"gj-info-value",children:l.waitCount})]}),s.jsxs("div",{className:"gj-info-row",children:[s.jsx("span",{className:"gj-info-label",children:"Wait Duration"}),s.jsx("span",{className:"gj-info-value",children:l.waitDuration})]})]})]})]})},pa=E.lazy(()=>ns(()=>import("./swagger-BzKg9Sg6.js"),__vite__mapDeps([0,1]),import.meta.url)),ja=()=>s.jsxs("div",{className:"gj-page gj-api-docs",children:[s.jsxs("div",{className:"gj-page-header",children:[s.jsx("h1",{className:"gj-page-title",children:"API Documentation"}),s.jsx("p",{className:"gj-page-subtitle",children:"Interactive API reference and testing"})]}),s.jsx("div",{className:"gj-swagger-container",children:s.jsx(E.Suspense,{fallback:s.jsx("div",{className:"gj-loading",children:"Loading API documentation..."}),children:s.jsx(pa,{url:"/api/v1/openapi.json"})})})]}),xa=new Is({defaultOptions:{queries:{staleTime:3e4,retry:1}}}),ya=()=>s.jsx(Xs,{children:s.jsx(ks,{client:xa,children:s.jsx(cs,{basename:"/",children:s.jsx(Zs,{children:s.jsxs(os,{children:[s.jsx(Se,{path:"/",element:s.jsx(sa,{})}),s.jsx(Se,{path:"/queries",element:s.jsx(ra,{})}),s.jsx(Se,{path:"/schema",element:s.jsx(ia,{})}),s.jsx(Se,{path:"/config",element:s.jsx(na,{})}),s.jsx(Se,{path:"/databases",element:s.jsx(ma,{})}),s.jsx(Se,{path:"/api-docs",element:s.jsx(ja,{})})]})})})})});document.body.classList.add("graphiql-dark");const va=ds.createRoot(document.getElementById("root"));va.render(s.jsx($t.StrictMode,{children:s.jsx(ya,{})}));
