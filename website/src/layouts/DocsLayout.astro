---
import Layout from './Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';

const { title } = Astro.props;

const sidebar = [
  { heading: 'Getting Started', items: [
    { name: 'Introduction', href: '/docs' },
    { name: 'Installation', href: '/docs/start' },
  ]},
  { heading: 'Reference', items: [
    { name: 'Cheatsheet', href: '/docs/cheatsheet' },
    { name: 'Queries', href: '/docs/queries' },
  ]},
];
---

<Layout title={`${title} - GraphJin Docs`}>
  <Navbar />

  <div class="container-wide flex flex-col md:flex-row min-h-screen pt-20">
    {/* Sidebar */}
    <aside class="w-full md:w-64 shrink-0 py-8 md:pr-8 border-b md:border-b-0 md:border-r border-gj-border">
      <nav class="sticky top-24 space-y-8">
        {sidebar.map(section => (
          <div>
            <h5 class="font-display font-bold text-gj-text mb-3">{section.heading}</h5>
            <ul class="space-y-2">
              {section.items.map(item => (
                <li>
                  <a
                    href={item.href}
                    class="text-gj-muted hover:text-gj-text text-sm transition-colors block py-1"
                  >
                    {item.name}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))}
      </nav>
    </aside>

    {/* Content */}
    <main class="flex-1 py-8 md:pl-12">
      <div class="prose prose-lg max-w-none prose-headings:font-display prose-headings:font-bold prose-headings:text-gj-text prose-p:text-gj-muted prose-a:text-gj-dark prose-code:text-gj-dark prose-pre:bg-gj-dark prose-pre:text-white prose-pre:border prose-pre:border-gj-border">
        <slot />
      </div>
    </main>
  </div>

  <Footer />
</Layout>
